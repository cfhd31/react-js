(this["webpackJsonpherrera-francisco"]=this["webpackJsonpherrera-francisco"]||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),r=c(41),i=c.n(r),s=(c(36),c(54),c(37),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,106)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),r(e),i(e)}))}),o=c(11),l=c(12),d=c(19),j=c(15),b=c(23),u=(c(39),b.a.initializeApp({apiKey:"AIzaSyBrDtG6yCRdyBBAr8QHE02trZE455qSNzw",authDomain:"mercado-98f1b.firebaseapp.com",projectId:"mercado-98f1b",storageBucket:"mercado-98f1b.appspot.com",messagingSenderId:"751129474059",appId:"1:751129474059:web:085e90d8f292e32fca030e"}));function m(){return b.a.firestore(u)}c(40);var h=c(2),O=function(e){var t=e.prod;return Object(h.jsx)("div",{className:"catalogo",children:Object(h.jsxs)("div",{className:"react-reveal card bg-dark",children:[Object(h.jsx)("h4",{className:"card-title",children:t.tipo}),Object(h.jsx)("div",{className:"overflow",children:Object(h.jsx)("img",{src:t.imagen,className:"card-img-top img-fluid",alt:"Foto de nave"})}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("h5",{className:"card-title",children:["Nave: ",t.nombre]}),Object(h.jsxs)("div",{className:"card-text",children:[Object(h.jsxs)("p",{className:"text-secundary",children:[" ",Object(h.jsx)("strong",{children:"Precio:"})," ",t.precio,"M ISK"]}),t.stock<=0?Object(h.jsx)("h4",{children:"Sin Stock"}):Object(h.jsx)(o.b,{to:"/detalle/".concat(t.id),className:"text-primary ",children:Object(h.jsx)("button",{className:"buttonDetalle",children:"Detalle"})})]})]})]})})},x=Object(a.memo)((function(e){return e.product.map((function(e){return Object(h.jsx)(O,{prod:e},e.id)}))})),p=c(44),f=function(){return Object(h.jsx)("div",{className:"cargando",children:Object(h.jsx)(p.SolarSystemLoading,{})})},v=(c(100),function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!0),i=Object(j.a)(r,2),s=i[0],o=i[1],b=Object(l.f)().id;return Object(a.useEffect)((function(){var e=m();b?e.collection("items").where("categoria","==",b).get().then((function(e){return n(e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})))})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)})):e.collection("items").get().then((function(e){return n(e.docs.map((function(e){return Object(d.a)({id:e.id},e.data())})))})).catch((function(e){return console.log(e)})).finally((function(){return o(!1)}))}),[b]),s?Object(h.jsx)(f,{}):Object(h.jsx)("div",{className:" container",children:Object(h.jsx)("div",{className:"acomodar row justify-content-md-center",children:Object(h.jsx)(x,{product:c})})})}),g=c(47),N=Object(a.createContext)(),y=function(){return Object(a.useContext)(N)},C=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(j.a)(c,2),r=n[0],i=n[1],s=Object(a.useState)([0]),o=Object(j.a)(s,2),l=o[0],d=o[1],b=function(e){var t=r.filter((function(t){return t.id!==e}));i(t)};Object(a.useEffect)((function(){d(r.reduce((function(e,t){return e+t.cantidad}),0))}),[b]);var u=Object(a.useState)({name:"",phone:"",email:"",email2:""}),m=Object(j.a)(u,2),O=m[0],x=m[1];return Object(h.jsx)("div",{children:Object(h.jsx)(N.Provider,{value:{cartList:r,formData:O,setFormData:x,mostrarListado:function(){console.log(r)},agregarAlCarrito:function(e){var t=r.find((function(t){return t.id===e.id}));t?(t.cantidad=t.cantidad+e.cantidad,i(r)):i([].concat(Object(g.a)(r),[e])),d(r.reduce((function(e,t){return e+t.cantidad}),0))},borrarTodo:function(){i([])},borrarItem:b,contadorCarrito:l,precioTotal:function(){return console.log(r),r.reduce((function(e,t){return e+t.cantidad*t.precio}),0)}},children:t})})};function k(e){var t=e.onAdd,c=e.stock,n=Object(a.useState)(1),r=Object(j.a)(n,2),i=r[0],s=r[1];return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:" text-center",children:[Object(h.jsx)("button",{onClick:function(){i>1&&s(i-1)},className:"btn-secondary btnMasMenos alert-link",children:" - "}),Object(h.jsx)("span",{className:"espacio alert-link",children:i}),Object(h.jsx)("button",{onClick:function(){i<c&&s(i+1)},className:"btn-secondary btnMasMenos alert-link",children:" + "})]}),Object(h.jsx)("a",{href:"##",className:"btn btn-outline-primary",onClick:function(){return t(i)},children:"Agregar al carrito"})]})}c(101);var S=function(e){var t=e.prod,c=Object(a.useState)("input"),n=Object(j.a)(c,2),r=n[0],i=n[1],s=y().agregarAlCarrito,l=function(e){s(Object(d.a)(Object(d.a)({},t),{},{cantidad:e})),i("button")};return Object(h.jsx)("div",{className:"ItemDetail",children:Object(h.jsxs)("div",{className:"react-reveal card-detalle efecto bg-dark text-light",children:[Object(h.jsx)("h4",{className:"card-title text-danger font-weight-bold ",children:t.tipo}),Object(h.jsx)("img",{src:t.imagen,className:" card-img-top img-fluid",loading:"lazy",alt:"nave"}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("h5",{className:"card-title",children:[Object(h.jsx)("strong",{children:"Nave:"})," ",t.nombre]}),Object(h.jsxs)("p",{className:"card-text",children:[Object(h.jsx)("strong",{children:"Precio:"})," ",t.precio,"M ISK"]}),Object(h.jsxs)("p",{className:"card-text",children:[Object(h.jsx)("strong",{children:"Descripcion:"})," ",t.descripcion]}),Object(h.jsxs)("p",{className:"card-text",children:[Object(h.jsx)("strong",{children:"Stock:"})," ",t.stock]}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{onClick:function(){return l},children:"input"===r?Object(h.jsx)(k,{stock:t.stock,initial:"1",onAdd:l}):Object(h.jsx)(o.b,{to:"/cart",className:"pretext botonComprar",children:"Ir al Carrito"})})})]})]})})},I=function(){var e=Object(a.useState)({}),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(l.f)().id,i=Object(a.useState)(!0),s=Object(j.a)(i,2),o=s[0],b=s[1];return Object(a.useEffect)((function(){var e=m();if(r)e.collection("items").doc(r).get().then((function(e){n(Object(d.a)({id:e.id},e.data()))})).catch((function(e){return console.log(e)})).finally((function(){return b(!1)}));else var t=e.collection("items").get().then((function(e){t.setProdIndiv(e.data())})).catch((function(e){return console.log(e)})).finally((function(){return b(!1)}))}),[r]),o?Object(h.jsx)("h5",{children:"Cargando el producto.."}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(S,{prod:c})})},A=function(){var e=y().contadorCarrito;return Object(h.jsx)("div",{className:e>0?"mostrar":"ocultar",children:Object(h.jsxs)(o.b,{to:"/cart",children:[Object(h.jsx)("img",{src:"/assets/imagen/carrito.png",className:"carrito ",alt:"imagen carrito"}),Object(h.jsxs)("span",{className:"contador",children:[e,"  "]}),Object(h.jsx)("i",{className:"fas fa-shopping-cart"})]})})},w=(c(102),function(){return Object(h.jsx)("div",{children:Object(h.jsx)("nav",{className:"navbar sticky-top navbar-light bg-light navbar-expand-lg menu menu--fondo",children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("div",{className:"logo",children:Object(h.jsx)(o.b,{to:"/",children:Object(h.jsx)("img",{src:"../assets/imagen/eve0.png",className:" imagenLogo2",alt:"Logo Eve"})})}),Object(h.jsx)("button",{className:"navbar-toggler espacio","data-toggle":"collapse","data-bs-toggle":"collapse",type:"button","data-bs-target":"#collapse_target","aria-controls":"collapse_target","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsxs)("div",{className:"collapse navbar-collapse menu--fondo ",id:"collapse_target",children:[Object(h.jsxs)("ul",{className:"navbar-nav",children:[Object(h.jsx)("li",{className:"nav-item menuEspacio",children:Object(h.jsx)(o.b,{to:"/",className:"menuMin",children:" INICIO"})}),Object(h.jsx)("li",{className:"nav-item menuEspacio",children:Object(h.jsx)(o.b,{to:"/categoria/Fragata",className:"menuMin",children:" FRAGATAS"})}),Object(h.jsx)("li",{className:"nav-item menuEspacio",children:Object(h.jsx)(o.b,{to:"/categoria/Destructor",className:"menuMin",children:" DESTRUCTORES"})}),Object(h.jsx)("li",{className:"nav-item menuEspacio",children:Object(h.jsx)(o.b,{to:"/categoria/Crucero",className:"menuMin",children:" CRUCEROS"})}),Object(h.jsx)("li",{className:"nav-item menuEspacio",children:Object(h.jsx)(o.b,{to:"/categoria/C. de Batalla",className:"menuMin",children:" C. DE BATALLA"})}),Object(h.jsx)("li",{className:"nav-item menuEspacio",children:Object(h.jsx)(o.b,{to:"/categoria/Acorazado",className:"menuMin",children:" ACORAZADOS"})})]}),Object(h.jsx)(A,{})]})]})})})}),E=c(27);function D(e){var t=y().borrarItem;return Object(h.jsxs)("tr",{className:"",children:[Object(h.jsx)("td",{children:Object(h.jsx)("img",{className:"imagen img-fluid",src:e.productos.imagen,alt:e.productos.tipo})}),Object(h.jsx)("th",{children:e.productos.nombre}),Object(h.jsx)("td",{children:Object(h.jsxs)("p",{children:["x",e.productos.cantidad]})}),Object(h.jsx)("td",{children:Object(h.jsxs)("p",{children:[e.productos.precio,"M Isk"]})}),Object(h.jsx)("td",{children:Object(h.jsxs)("p",{children:[e.productos.cantidad*e.productos.precio,"M Isk"]})}),Object(h.jsx)("td",{children:Object(h.jsx)("i",{className:"bi bi-trash-fill",onClick:function(){return t(e.productos.id)},children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash-fill",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})})})})]})}c(103);function M(e){var t=e.envio,c=e.change,a=y().formData;return Object(h.jsx)("div",{className:"rowAcomodar",children:Object(h.jsx)("div",{className:"formu",children:Object(h.jsxs)("form",{id:"contact",onSubmit:t,onChange:c,children:[Object(h.jsx)("h3",{children:"Complete el formulario para finalizar compra"}),Object(h.jsx)("fieldset",{children:Object(h.jsx)("input",{placeholder:"Nick del Piloto",name:"name",type:"text",tabIndex:"1",required:!0,autoFocus:!0,defaultValue:a.name})}),Object(h.jsx)("fieldset",{children:Object(h.jsx)("input",{placeholder:"Numero de telefono",name:"phone",type:"tel",tabIndex:"2",min:"6",max:"50",required:!0,defaultValue:a.phone})}),Object(h.jsx)("fieldset",{children:Object(h.jsx)("input",{placeholder:"Email",name:"email",type:"email",tabIndex:"3",required:!0,defaultValue:a.email})}),Object(h.jsx)("fieldset",{children:Object(h.jsx)("input",{placeholder:"Vuelva a ingresar el Email",name:"email2",type:"email",tabIndex:"4",required:!0,defaultValue:a.email2})}),Object(h.jsx)("fieldset",{children:Object(h.jsx)("textarea",{placeholder:"Algun comentario que nos quiera dejar?",name:"comentario",type:"text",tabIndex:"5",defaultValue:a.comentario})}),Object(h.jsxs)("p",{children:[Object(h.jsx)("input",{type:"checkbox",name:"terminos",value:"1",required:!0}),"Acepta t\xe9rminos y condiciones"]}),Object(h.jsxs)("fieldset",{children:[Object(h.jsx)("button",{disabled:""===a.name||""===a.phone||""===a.email||a.email!==a.email2,name:"Enviar",type:"submit",id:"contact-submit","data-submit":"...Sending",variant:"success",children:"Generar Orden"}),Object(h.jsxs)("p",{className:"copyright",children:["volver a",Object(h.jsx)(o.b,{to:"/",className:"waves-effect waves-light btn",children:"Inicio"})]})]})]})})})}function T(){var e=y(),t=e.cartList,c=e.borrarTodo,n=e.formData,r=e.setFormData,i=e.precioTotal,s=Object(a.useState)(""),l=Object(j.a)(s,2),u=l[0],O=l[1];return t.length?Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row contenedorListaOrden",children:[Object(h.jsx)("div",{className:"contenedorTabla  ",children:Object(h.jsxs)("div",{className:"listaCarrito",children:[Object(h.jsx)("h2",{children:"Lista de compras"}),Object(h.jsxs)("table",{className:"react-reveal mb-5 table table-dark table-striped ",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{className:"tabraTitulo table-dark",children:[Object(h.jsx)("th",{children:"  Foto  "}),Object(h.jsx)("th",{children:"  Nave  "}),Object(h.jsx)("th",{children:"  Cantidad  "}),Object(h.jsx)("th",{children:"  Precio por unidad  "}),Object(h.jsx)("th",{children:"  Subtotal    "}),Object(h.jsx)("th",{})]})}),Object(h.jsx)("tbody",{children:t.map((function(e){return Object(h.jsx)(D,{productos:e},e.id)}))})]}),Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("h6",{children:[" Importe total a pagar: ",i()," M Isk"]}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(h.jsx)("div",{children:Object(h.jsx)(o.b,{to:"/",children:Object(h.jsx)("button",{type:"submit",children:"Seguir comprando"})})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"alerta",onClick:function(){return c()},children:"Vaciar Carrito"})})]})})]})]})}),Object(h.jsx)(M,{envio:function(e){e.preventDefault();var a={};a.date=b.a.firestore.Timestamp.fromDate(new Date),a.buyer=n,a.total=i(),a.state="Generado",a.items=t.map((function(e){var t=e.id,c=e.nombre,a=e.cantidad;return{id:t,nombre:c,precio:e.precio*e.cantidad,cantidad:a}}));var s=m();s.collection("orders").add(a).then((function(e){return O(e.id)})).catch((function(e){return console.log(e)})).finally((function(){return r({name:"",phone:"",email:"",email2:"",comentario:""})}),c());var o=s.collection("items").where(b.a.firestore.FieldPath.documentId(),"in",t.map((function(e){return e.id}))),l=s.batch();o.get().then((function(e){e.docs.forEach((function(e){l.update(e.ref,{stock:e.data().stock-t.find((function(t){return t.id===e.id})).cantidad})})),l.commit().catch((function(e){return console.log(e)}))}))},change:function(e){r(Object(d.a)(Object(d.a)({},n),{},Object(E.a)({},e.target.name,e.target.value)))}})]})}):Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"container vacioComprado",children:""!==u?Object(h.jsxs)("div",{className:"finalCompra",children:[Object(h.jsx)("h3",{children:"Gracias por su compra"}),Object(h.jsxs)("h5",{children:["El id de su orden es : ",u]})]}):Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("h2",{children:"Tu carrito est\xe1 vac\xedo"}),Object(h.jsx)(o.b,{to:"/",className:"waves-effect waves-light btn",children:" Ir a Inicio "})]})})})}c(104);function F(){return Object(h.jsx)("div",{})}function L(){return Object(h.jsxs)("footer",{className:"page-footer greybg-dark text-white",children:[Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col l6 s12",children:[Object(h.jsx)("h5",{className:"white-text",children:"MERCADO NEGRO"}),Object(h.jsx)("p",{className:"grey-text text-lighten-4",children:"Somos un equipo de mineros e industriales de la Corporacion Primera Orden [ORDN], en la Alianza Bot5"})]}),Object(h.jsxs)("div",{className:"col l6 s12",children:[Object(h.jsx)("h5",{className:"white-text",children:"CONTACTO"}),Object(h.jsxs)("p",{children:[Object(h.jsx)("i",{className:"tiny material-icons",children:"Nick de contacto:"})," MixtiK S.A."]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("i",{className:"tiny material-icons",children:"email:"})," contacto@mercadonegro.com"]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("i",{className:"tiny material-icons",children:"Sistema: "})," Decklein y Fade "]})]})]})}),Object(h.jsx)("div",{className:"footer-copyright",children:Object(h.jsxs)("div",{className:"container",children:["Hecho por ",Object(h.jsx)("span",{className:"blue-text text-lighten-3",children:"Francisco Herrera (cfhd31)"})]})})]})}var z=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(C,{children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(F,{}),Object(h.jsx)(w,{}),Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{exact:!0,path:"/",children:Object(h.jsx)(v,{})}),Object(h.jsx)(l.a,{path:"/categoria/:id",exact:!0,component:v}),Object(h.jsx)(l.a,{exact:!0,path:"/detalle/:id",component:I}),Object(h.jsx)(l.a,{exact:!0,path:"/cart",component:T})]}),Object(h.jsx)(L,{})]})})})};i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(z,{})}),document.getElementById("root")),s()},37:function(e,t,c){},40:function(e,t,c){},54:function(e,t,c){}},[[105,1,2]]]);
//# sourceMappingURL=main.6477cc1a.chunk.js.map